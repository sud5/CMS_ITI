define(["jquery"],function(e){return{init:function(){if(e(document).on("click","span.leave",function(){window.location.reload()}),e(document).on("click","span.continue",function(){e(".aftervideocomplete").css("display","none")}),e("video[id^=videofile-]").attr("id")){e("video").prop("muted",!1);var o=e("video[id^=videofile-]").attr("id");e(".vjs-mute-control.vjs-control").addClass("vjs-vol-3");var i=videojs(o);i.on("ended",function(){i.posterImage.show(),i.bigPlayButton.show(),i.currentTime(0),window.location.reload()}),i.Resume({uuid:o}),e(document).ready(function(){e("video[id^=videofile-]").attr("id");e("#page-mod-videofile-view .videofile .vjs-tech").on("contextmenu",function(e){return!1}),e("#page-mod-videofile-view .videofile .vjs-tech").bind("cut copy paste",function(e){e.preventDefault()}),e(document).bind("keydown keypress",function(o){80===o.keyCode&&(e(".video-js").hasClass("vjs-playing")?e("video").trigger("pause"):e("video").trigger("play"))}),e(document).keydown(function(o){var i=o.which,n=e(".vjs-volume-bar").attr("aria-valuenow");document.getElementById("video[id^=videofile-]");switch(i){case 38:(n=e("video").prop("volume"))<="1"&&(n+=.1,e("video").prop("volume",n),e(".vjs-volume-bar").attr("aria-valuenow",n));break;case 40:(n=e("video").prop("volume"))>"0"&&(n-=.1,e("video").prop("volume",n),e(".vjs-volume-bar").attr("aria-valuenow",n))}}),e(document).keydown(function(o){var i=e("video[id^=videofile-]").attr("id"),n=o.which,d=videojs(i).currentTime();switch(n){case 37:d-=3,videojs(i).currentTime(d);break;case 39:d+=3,videojs(i).currentTime(d)}})})}}}});